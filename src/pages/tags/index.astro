---
import { getCollection } from 'astro:content';
import BaseHead from '../../components/BaseHead.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';

const posts = await getCollection('insights');
const allTags = posts.flatMap(post => post.data.tags || []);
const uniqueTags = [...new Set(allTags)];
---

<html lang="en">
	<head>
		<BaseHead title="All Tags" description="A list of all tags used in the blog." />
		<style>
			.tags-container {
				display: flex;
				flex-wrap: wrap;
				gap: 0.5rem;
				justify-content: center;
				margin-top: 2rem;
			}
			.tag {
				display: inline-block;
				padding: 0.5rem 1rem;
				border: 1px solid #ddd;
				border-radius: 20px;
				text-decoration: none;
				color: #333;
				transition: background-color 0.2s ease, color 0.2s ease;
			}
			.tag:hover {
				background-color: var(--accent);
				color: white;
				border-color: var(--accent);
			}
			h1 {
				text-align: center;
			}
		</style>
	</head>
	<body>
		<Header />
		<main>
			<h1>All Tags</h1>
			<div class="tags-container">
				{uniqueTags.map(tag => (
					<a href={`/tags/${tag}`} class="tag">{tag}</a>
				))}
			</div>
		</main>
		<Footer />
	</body>
</html>