---
import HeaderLink from "./HeaderLink.astro";
import { SITE_TITLE } from "../consts";
---

<header>
  <nav>
    <h2 class="brand">
      <a href="/" aria-label={SITE_TITLE} class="brand-link">
        <img src="/images/home/logo-avatar.webp" alt="Olha avatar" width="50" height="50" class="brand-avatar" />
        <div class="brand-meta">
          <span class="brand-title">Olha Kharlamova</span>
          <span class="brand-subtitle">Top UI/UX Designer</span>
        </div>
      </a>
    </h2>
    <div class="internal-links" id="site-menu">
      <HeaderLink href="/">Home</HeaderLink>
      <HeaderLink href="/cases">Cases</HeaderLink>
      <HeaderLink href="/insights">Insights</HeaderLink>
      <HeaderLink href="/about">About</HeaderLink>
    </div>
    <div class="right-group">
      <div class="header-cta">
        <a class="btn" href="https://upwork.com/fl/webim" target="_blank" rel="noopener noreferrer">Order a project</a>
      </div>
    </div>
    <button class="menu-toggle" aria-label="Open menu" aria-expanded="false" aria-controls="site-menu">â˜°</button>
  </nav>
</header>
<style>
  header {
    margin: 0;
    background: rgba(255,255,255,0.92);
    box-shadow: 0 1px 2px rgba(var(--black), 5%);
    position: sticky;
    top: 0;
    z-index: 1000;
    border-bottom: 1px solid rgba(var(--gray-light), 1);
    backdrop-filter: saturate(160%) blur(8px);
  }
  nav h2 { padding: 0; }
  h2 { margin: 0; font-size: 1em; }
  .brand-link { display:flex; align-items:center; gap:.5rem; text-decoration:none; color: inherit; }
  .brand-avatar { width:50px; height:50px; border-radius:50%; display:block; }
  .brand-meta { display:flex; flex-direction:column; line-height:1.3; }
  .brand-title { font-weight:400; color: var(--ws-main-color); }
  .brand-subtitle { display:flex; align-items:center; gap:.4rem; color: var(--ws-secondary-color); font-size:.85rem; font-weight: 500; }
  h2 a, h2 a.active { text-decoration: none; }
  nav {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: var(--ws-desktop-width);
    width: 100%;
    padding-left: 1rem;
    padding-right: 1rem;
    margin-left: auto;
    margin-right: auto;
    min-height: 64px;
  }
  .internal-links { position: absolute; left: 50%; transform: translateX(-50%); display: flex; gap: .5rem; }
  .internal-links a { padding: 1em 0.5em; color: var(--black); border-bottom: 4px solid transparent; text-decoration: none; }
  .internal-links a.active { text-decoration: none; border-bottom-color: var(--accent); }
  .right-group { display: flex; align-items: center; gap: 2rem; }
  .social-links { display: flex; gap: .5rem; }
  .header-cta { margin-left: 0.5rem; }
  /* Buttons inherit global component styles; no header-specific overrides */
  .menu-toggle { display: none; background: transparent; border: 0; font-size: 1.5rem; line-height: 1; padding: .5rem; cursor: pointer; }
  @media (max-width: 720px) {
    .social-links { display: none; }
    .menu-toggle { display: inline-flex; }
    .internal-links { display: none; position: absolute; right: 1rem; top: 64px; background: #fff; border: 1px solid rgb(var(--gray-light)); border-radius: 8px; padding: .5rem 1rem; flex-direction: column; box-shadow: 0 6px 18px rgba(0,0,0,.08); transform: none; left: auto; }
    header.open .internal-links { display: flex; }
  }
</style>
<script>
  const toggle = document.querySelector('.menu-toggle');
  const headerEl = document.querySelector('header');
  toggle?.addEventListener('click', () => {
    const isOpen = headerEl?.classList.toggle('open');
    if (toggle) toggle.setAttribute('aria-expanded', String(!!isOpen));
  });
</script>
